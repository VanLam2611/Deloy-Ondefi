"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4853],{19527:function(n,e,r){r.d(e,{Z:function(){return T}});var t=r(85893),o=r(99273),i=r(97561),a=r(56934),c=r(87761),u=r(5545),l=r(96913),s=r(186),d=r(23917),f=r(99150),p=r(39475),b=r(63439),m=r(74314),v=r(67294),y=r(38328);function h(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function g(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function x(){var n,e,r=(n=["\n  color: ",";\n  width: 0;\n  position: relative;\n  font-weight: 500;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: transparent;\n  font-size: 16px;\n  text-align: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0px;\n  -webkit-appearance: textfield;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return x=function(){return r},r}var w=s.ZP.input(x(),(function(n){var e=n.error,r=n.theme;return e?r.colors.failure:r.colors.text}),(function(n){var e=n.align;return null!==e&&void 0!==e?e:"right"}),(function(n){return n.theme.colors.textSubtle})),k=RegExp("^\\d*(?:\\\\[.])?\\d*$"),j=(0,v.memo)((function(n){var e=n.value,r=n.onUserInput,o=n.placeholder,i=g(n,["value","onUserInput","placeholder"]),a=(0,f.$G)().t;return(0,t.jsx)(w,function(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){h(n,e,r[e])}))}return n}({},i,{value:e,onChange:function(n){var e;(""===(e=n.target.value.replace(/,/g,"."))||k.test((0,y.hr)(e)))&&r(e)},inputMode:"decimal",title:a("Token Amount"),autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0.0",minLength:1,maxLength:79,spellCheck:"false"}))}));function O(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function P(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,i=[],a=!0,c=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(i.push(t.value),!e||i.length!==e);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return O(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function S(){var n=N(["\n  position: relative;\n  padding: 1.5rem 1rem;\n  min-width: 120px;\n  top: 23px;\n  left: 10px;\n  z-index: 3;\n  background-color: #60c5ba;\n  border-radius: 5px !important;\n"]);return S=function(){return n},n}function A(){var n=N(["\n  padding: 0.75rem 1rem;\n  position: relative;\n  top: 0px;\n  left: 10px;\n  z-index: 3;\n  background-color: ",";\n  border: 1px solid #60c5ba;\n  border-radius: 5px !important;\n"]);return A=function(){return n},n}function C(){var n=N(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 1.5rem 1rem;\n  border: 1.25px solid #60c5ba;\n  border-radius: 15px;\n  position: absolute;\n  width: 100%;\n  z-index: 2;\n  "," {\n    background-color: ",";\n  }\n  // background-color: ",";\n"]);return C=function(){return n},n}function Z(){var n=N(["\n  display: flex;\n  flex-flow: column nowrap;\n  position: relative;\n  border-radius: 15px;\n  background-color: transparent;\n  z-index: 1;\n  height: 80px;\n  margin-top: -40px;\n"]);return Z=function(){return n},n}function E(){var n=N(["\n  border-radius: 16px;\n  background-color: ",";\n  box-shadow: ",";\n"]);return E=function(){return n},n}var I=(0,s.ZP)(o.Z).attrs({variant:"text",scale:"sm"})(S()),z=(0,s.ZP)(o.Z).attrs({variant:"text",scale:"sm"})(A(),(function(n){return n.$isDark?"#1E2735":"#fff"})),D=s.ZP.div(C(),(function(n){return n.theme.colors.text}),(function(n){return n.theme.mediaQueries.sm}),(function(n){return n.$isDark?"#101722":"#fff"}),(function(n){return n.theme.colors.background})),G=s.ZP.div(Z()),R=s.ZP.div(E(),(function(n){return n.theme.colors.input}),(function(n){return n.theme.shadows.inset}));function T(n){var e=n.value,r=n.onUserInput,o=n.onCurrencySelect,s=n.currency,v=n.disableCurrencySelect,y=void 0!==v&&v,h=n.pair,g=void 0===h?null:h,x=n.otherCurrency,w=n.id,k=n.showCommonBases,O=n.isShow,N=(0,f.$G)().t,S=(0,d.Z)().isDark,A=P((0,i.Z)((0,t.jsx)(b.Z,{onCurrencySelect:o,selectedCurrency:s,otherSelectedCurrency:x,showCommonBases:k})),1)[0];return(0,t.jsxs)(a.Z,{position:"relative",id:w,children:[(0,t.jsx)(c.Z,{mb:"6px",alignItems:"center",justifyContent:"space-between",children:O?(0,t.jsx)(I,{className:"open-currency-select-button",selected:!!s,onClick:function(){y||A()},children:(0,t.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",style:{position:"absolute"},children:[g?(0,t.jsx)(m.ge,{currency0:g.token0,currency1:g.token1,size:16,margin:!0}):s?(0,t.jsx)(m.Xw,{currency:s,size:"24px",style:{marginRight:"8px"}}):null,g?(0,t.jsxs)(u.Z,{id:"pair",bold:!0,children:[null===g||void 0===g?void 0:g.token0.symbol,":",null===g||void 0===g?void 0:g.token1.symbol]}):(0,t.jsx)(u.Z,{id:"pair",bold:!0,children:(s&&s.symbol&&s.symbol.length>20?"".concat(s.symbol.slice(0,4),"...").concat(s.symbol.slice(s.symbol.length-5,s.symbol.length)):null===s||void 0===s?void 0:s.symbol)||N("Select a currency")}),!y&&(0,t.jsx)(l.Z,{})]})}):(0,t.jsxs)(z,{className:"open-currency-select-button",selected:!!s,onClick:function(){y||A()},$isDark:S,children:[(0,t.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",children:[g?(0,t.jsx)(m.ge,{currency0:g.token0,currency1:g.token1,size:16,margin:!0}):s?(0,t.jsx)(m.Xw,{currency:s,size:"24px",style:{marginRight:"8px"}}):null,g?(0,t.jsxs)(u.Z,{id:"pair",bold:!0,children:[null===g||void 0===g?void 0:g.token0.symbol,":",null===g||void 0===g?void 0:g.token1.symbol]}):(0,t.jsx)(u.Z,{id:"pair",bold:!0,children:(s&&s.symbol&&s.symbol.length>20?"".concat(s.symbol.slice(0,4),"...").concat(s.symbol.slice(s.symbol.length-5,s.symbol.length)):null===s||void 0===s?void 0:s.symbol)||N("Select a currency")})]})," ",!y&&(0,t.jsx)(l.Z,{})]})}),O?(0,t.jsx)(G,{children:(0,t.jsx)(R,{children:(0,t.jsx)(D,{$isDark:S,children:(0,t.jsx)(p.m0,{children:(0,t.jsx)(j,{className:"token-amount-input",value:e,onUserInput:function(n){r(n)}})})})})}):(0,t.jsx)(t.Fragment,{})]})}},19508:function(n,e,r){var t=r(67294),o=r(74782),i=r(64011),a=r(3862);e.Z=function(){var n=(0,i.Z)(),e=n.chainId,r=n.library;return(0,t.useMemo)((function(){if(e&&r)try{return new o.GelatoLimitOrders(e,null===r||void 0===r?void 0:r.getSigner(),a.uX,!1)}catch(n){return void console.error("Could not instantiate GelatoLimitOrders: ".concat(n.message))}else console.error("Could not instantiate GelatoLimitOrders: missing chainId or library")}),[e,r])}},50165:function(n,e,r){r.d(e,{UK:function(){return b},qL:function(){return P},tz:function(){return S},re:function(){return N}});var t=r(34051),o=r.n(t),i=r(21046),a=r(5765),c=r(70457),u=r(67294),l=r(64011),s=r(17226),d=r(3862),f=r(54626),p=r(91001);var b,m=function(n,e,r){var t=(0,f.Ib)(null===n||void 0===n?void 0:n.address,!1),o=(0,u.useMemo)((function(){return[e,r]}),[e,r]),i=(0,p.Wk)(t,"allowance",o).result;return(0,u.useMemo)((function(){return n&&i?new a.dt(n,i.toString()):void 0}),[n,i])},v=r(70193),y=r(55892),h=r(7879),g=r(38328),x=r(71228),w=r(789),k=r(99150),j=r(19508);function O(n,e,r,t,o,i,a){try{var c=n[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(t,o)}function P(n,e){var r,t,c,d=(0,l.Z)().account,p=(0,x.d)().callWithGasPrice,v=(0,k.$G)().t,h=(0,w.Z)().toastError,j=(r=n,(null!=(t=a.dt)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](r):r instanceof t)?n.token:void 0),P=m(j,null!==d&&void 0!==d?d:void 0,e),N=(0,y.wB)(null===j||void 0===j?void 0:j.address,e),S=(0,u.useMemo)((function(){return n&&e?n.currency===a.c0?b.APPROVED:P?P.lessThan(n)?N?b.PENDING:b.NOT_APPROVED:b.APPROVED:b.UNKNOWN:b.UNKNOWN}),[n,P,N,e]),A=(0,f.Ib)(null===j||void 0===j?void 0:j.address),C=(0,y.h7)(),Z=(0,u.useCallback)((c=o().mark((function r(){var t,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S===b.NOT_APPROVED){r.next=4;break}return h(v("Error"),v("Approve was called unnecessarily")),console.error("approve was called unnecessarily"),r.abrupt("return");case 4:if(j){r.next=8;break}return h(v("Error"),v("No token")),console.error("no token"),r.abrupt("return");case 8:if(A){r.next=12;break}return h(v("Error"),v("Cannot find contract of the token %tokenAddress%",{tokenAddress:null===j||void 0===j?void 0:j.address})),console.error("tokenContract is null"),r.abrupt("return");case 12:if(n){r.next=16;break}return h(v("Error"),v("Missing amount to approve")),console.error("missing amount to approve"),r.abrupt("return");case 16:if(e){r.next=20;break}return h(v("Error"),v("No spender")),console.error("no spender"),r.abrupt("return");case 20:return t=!1,r.next=23,A.estimateGas.approve(e,i.Bz).catch((function(){return t=!0,A.estimateGas.approve(e,n.raw.toString())}));case 23:return a=r.sent,r.abrupt("return",p(A,"approve",[e,t?n.raw.toString():i.Bz],{gasLimit:(0,g.yC)(a)}).then((function(r){C(r,{summary:"Approve ".concat(n.currency.symbol),approval:{tokenAddress:j.address,spender:e}})})).catch((function(n){throw(0,s.H)(n),console.error("Failed to approve token",n),4001!==(null===n||void 0===n?void 0:n.code)&&h(v("Error"),n.message),n})));case 25:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(r,t){var o=c.apply(n,e);function i(n){O(o,r,t,i,a,"next",n)}function a(n){O(o,r,t,i,a,"throw",n)}i(void 0)}))}),[S,j,A,n,e,C,p,v,h]);return[S,Z]}function N(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,u.useMemo)((function(){return n?(0,h.b5)(n,e)[v.gN.INPUT]:void 0}),[n,e]);return P(r,d.bR[c.K])}function S(n){var e,r=(0,j.Z)();return P(n,null!==(e=null===r||void 0===r?void 0:r.erc20OrderRouter.address)&&void 0!==e?e:void 0)}!function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_APPROVED=1]="NOT_APPROVED",n[n.PENDING=2]="PENDING",n[n.APPROVED=3]="APPROVED"}(b||(b={}))},71228:function(n,e,r){r.d(e,{d:function(){return m}});var t=r(34051),o=r.n(t),i=r(67294),a=r(77176),c=r(27361),u=r.n(c),l=r(40802);function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function d(n,e,r,t,o,i,a){try{var c=n[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(t,o)}function f(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function p(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){f(n,e,r[e])}))}return n}function b(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return s(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){var n=(0,a.Fh)(),e=(0,i.useCallback)(function(){var e,r=(e=o().mark((function e(r,t){var i,a,c,s,d,f,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.length>2&&void 0!==m[2]?m[2]:[],a=m.length>3&&void 0!==m[3]?m[3]:null,l.n_({type:"Transaction",message:"Call with gas price: ".concat(n),data:{contractAddress:r.address,methodName:t,methodArgs:i,overrides:a}}),c=u()(r,t),s=null===a||void 0===a?void 0:a.gasPrice,e.next=6,c.apply(void 0,b(i).concat([s?p({},a):p({},a,{gasPrice:n})]));case 6:return(d=e.sent)&&l.n_({type:"Transaction",message:"Transaction sent: ".concat(d.hash),data:{hash:d.hash,from:d.from,gasLimit:null===(f=d.gasLimit)||void 0===f?void 0:f.toString(),nonce:d.nonce}}),e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function a(n){d(i,t,o,a,c,"next",n)}function c(n){d(i,t,o,a,c,"throw",n)}a(void 0)}))});return function(n,e){return r.apply(this,arguments)}}(),[n]);return{callWithGasPrice:e}}},17226:function(n,e,r){r.d(e,{Z:function(){return t},H:function(){return o}});r(40802);var t=function(n){return"object"===typeof n&&"code"in n&&4001===n.code},o=function(n){console.error(n)}}}]);