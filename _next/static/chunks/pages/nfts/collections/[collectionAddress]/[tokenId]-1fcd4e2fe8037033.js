(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1026],{67762:function(e){e.exports=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},12297:function(e,t,n){var r=n(67762),i=n(6557);e.exports=function(e){return e&&e.length?r(e,i):0}},96182:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nfts/collections/[collectionAddress]/[tokenId]",function(){return n(51280)}])},59946:function(e,t,n){"use strict";var r=n(85893),i=(n(67294),n(17804));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},e,{children:(0,r.jsx)("path",{d:"M11 5V16.17L6.11997 11.29C5.72997 10.9 5.08997 10.9 4.69997 11.29C4.30997 11.68 4.30997 12.31 4.69997 12.7L11.29 19.29C11.68 19.68 12.31 19.68 12.7 19.29L19.29 12.7C19.68 12.31 19.68 11.68 19.29 11.29C18.9 10.9 18.27 10.9 17.88 11.29L13 16.17V5C13 4.45 12.55 4 12 4C11.45 4 11 4.45 11 5Z"})}))}},59667:function(e,t,n){"use strict";var r=n(85893),i=(n(67294),n(17804));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},e,{children:(0,r.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))}},91541:function(e,t,n){"use strict";var r=n(85893),i=(n(67294),n(17804));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},e,{children:(0,r.jsx)("path",{d:"M15.5 13.9996H14.71L14.43 13.7296C15.63 12.3296 16.25 10.4196 15.91 8.38965C15.44 5.60965 13.12 3.38965 10.32 3.04965C6.09001 2.52965 2.53002 6.08965 3.05002 10.3196C3.39002 13.1196 5.61002 15.4396 8.39002 15.9096C10.42 16.2496 12.33 15.6296 13.73 14.4296L14 14.7096V15.4996L18.25 19.7496C18.66 20.1596 19.33 20.1596 19.74 19.7496C20.15 19.3396 20.15 18.6696 19.74 18.2596L15.5 13.9996ZM9.50002 13.9996C7.01002 13.9996 5.00002 11.9896 5.00002 9.49965C5.00002 7.00965 7.01002 4.99965 9.50002 4.99965C11.99 4.99965 14 7.00965 14 9.49965C14 11.9896 11.99 13.9996 9.50002 13.9996Z"})}))}},36196:function(e,t,n){"use strict";var r=n(85893),i=n(186),o=n(68112),c=n(83559);function a(){var e,t,n=(e=["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return n},n}var l=(0,i.ZP)(c.Z)(a());t.Z=function(){return(0,r.jsx)(l,{children:(0,r.jsx)(o.Z,{})})}},71685:function(e,t,n){"use strict";var r=n(67294),i=n(6199);t.Z=function(){var e=(0,r.useState)(Date.now()),t=e[0],n=e[1];return{lastUpdated:t,previousLastUpdated:(0,i.Z)(t),setLastUpdated:(0,r.useCallback)((function(){n(Date.now())}),[n])}}},6199:function(e,t,n){"use strict";var r=n(67294);t.Z=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e}),[e]),t.current}},51280:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ar},default:function(){return lr}});var r,i,o=n(85893),c=n(11163),a=n(36196),l=n(1940),s=n(34051),u=n.n(s),d=n(67294),f=n(77044),x=n(87761),p=n(75472),h=n.n(p),m=n(83559),v=n(13968),b=n(86849),j=n(71685),y=n(6199),g=n(27892),Z=n(94587),w=n(37519),S=n(74437),O=n(97561),P=n(99273),k=n(53503),A=n(77005),C=n(56934),F=n(5545),I=n(46326),N=n(6741),D=n(99150),B=n(65044),T=n(7879),E=n(50398),L=n(90834),R=n(21046),M=n(23917),z=n(24319),W=n(35128),_=n(29748),U=n(61744),$=n(54626),G=n(71228),V=n(67218),Y=n(21600),J=n(789),H=n(61134),q=n(186),X=n(74602),Q=n(20522);function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ee(){var e=K(["\n  & > div:last-child {\n    padding: 0;\n  }\n  & h2:first-of-type {\n    ",";\n  }\n  & svg:first-of-type {\n    ",";\n  }\n"]);return ee=function(){return e},e}function te(){var e=K(["\n  margin: 16px 0;\n  padding: 16px;\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  grid-template-columns: 1fr 1fr;\n  grid-row-gap: 8px;\n"]);return te=function(){return e},e}!function(e){e[e.BNB=0]="BNB",e[e.WBNB=1]="WBNB"}(r||(r={})),function(e){e[e.REVIEW=0]="REVIEW",e[e.APPROVE_AND_CONFIRM=1]="APPROVE_AND_CONFIRM",e[e.CONFIRM=2]="CONFIRM",e[e.TX_CONFIRMED=3]="TX_CONFIRMED"}(i||(i={}));var ne=(0,q.ZP)(X.Z)(ee(),(function(e){var t=e.stage,n=e.theme;return t===i.APPROVE_AND_CONFIRM||t===i.CONFIRM?"color: ".concat(n.colors.textSubtle):null}),(function(e){var t=e.stage,n=e.theme;return t===i.APPROVE_AND_CONFIRM||t===i.CONFIRM?"fill: ".concat(n.colors.textSubtle):null})),re=(0,q.ZP)(Q.Z)(te(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.default})),ie=function(e){var t=e.bnbAmount,n=e.isLoading,r=e.isInsufficient,i=(0,L.Hf)();if(n)return(0,o.jsxs)(x.Z,{flexDirection:"column",justifySelf:"flex-end",children:[(0,o.jsx)(N.Z,{width:"86px",height:"20px",mb:"6px"}),(0,o.jsx)(N.Z,{width:"86px",height:"20px"})]});var c=(0,T.as)(i,t);return(0,o.jsxs)(x.Z,{justifySelf:"flex-end",flexDirection:"column",children:[(0,o.jsxs)(x.Z,{justifyContent:"flex-end",children:[(0,o.jsx)(I.Z,{height:16,width:16,mr:"4px"}),(0,o.jsx)(F.Z,{bold:!0,color:r?"failure":"text",children:"".concat(t.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:5}))})]}),(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",textAlign:"right",children:"($".concat(c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")")})]})},oe=n(30621),ce=n(46747),ae=n(55739),le=n(50783),se=n(81709),ue=n(38328),de=n(97971),fe=n(33482),xe=function(e){var t=e.nftToBuy,n=e.paymentCurrency,i=e.setPaymentCurrency,c=e.nftPrice,a=e.walletBalance,l=e.walletFetchStatus,s=e.notEnoughBnbForPurchase,u=e.continueToNextStage,d=(0,D.$G)().t,p=(0,f.Ge)().account;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(x.Z,{px:"24px",pt:"24px",flexDirection:"column",children:[(0,o.jsxs)(x.Z,{children:[(0,o.jsx)(fe._v,{src:t.image.thumbnail,height:68,width:68,mr:"16px"}),(0,o.jsxs)(x.Z,{flexDirection:"column",justifyContent:"space-evenly",children:[(0,o.jsx)(F.Z,{color:"textSubtle",fontSize:"12px",children:null===t||void 0===t?void 0:t.collectionName}),(0,o.jsx)(F.Z,{bold:!0,children:t.name}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",p:"0px",height:"16px",mr:"4px",children:d("Token ID:")}),(0,o.jsx)(P.Z,{as:ce.Z,scale:"xs",px:"0px",pt:"2px",external:!0,variant:"text",href:(0,ue.z)(t.collectionAddress,t.tokenId),children:t.tokenId})]})]})]}),(0,o.jsxs)(re,{children:[(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:d("Pay with")}),(0,o.jsxs)(ae.Z,{activeIndex:n,onItemClick:function(e){return i(e)},scale:"sm",variant:"subtle",children:[(0,o.jsx)(le.Z,{children:"BNB"}),(0,o.jsx)(le.Z,{children:"WBNB"})]}),(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:d("Total payment")}),(0,o.jsx)(ie,{bnbAmount:c}),(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:d("%symbol% in wallet",{symbol:n===r.BNB?"BNB":"WBNB"})}),p?(0,o.jsx)(ie,{bnbAmount:a,isLoading:l!==de.iF.Fetched,isInsufficient:l===de.iF.Fetched&&s}):(0,o.jsx)(x.Z,{justifySelf:"flex-end",children:(0,o.jsx)(oe.Z,{scale:"sm"})})]}),l===de.iF.Fetched&&s&&(0,o.jsx)(se.Z,{p:"8px",variant:"danger",children:(0,o.jsx)(F.Z,{children:d("Not enough %symbol% to purchase this NFT",{symbol:n===r.BNB?"BNB":"WBNB"})})}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsxs)(F.Z,{my:"16px",mr:"4px",children:[d("Convert between BNB and WBNB for free"),":"]}),(0,o.jsx)(P.Z,{as:ce.Z,p:"0px",height:"16px",external:!0,variant:"text",href:"/swap?inputCurrency=BNB&outputCurrency=0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",children:d("Convert")})]})]}),(0,o.jsx)(fe.iz,{}),(0,o.jsxs)(x.Z,{px:"24px",pb:"24px",flexDirection:"column",children:[(0,o.jsx)(P.Z,{onClick:u,disabled:l!==de.iF.Fetched||s,mb:"8px",children:d("Checkout")}),(0,o.jsx)(P.Z,{as:ce.Z,external:!0,style:{width:"100%"},href:"/swap?outputCurrency=BNB",variant:"secondary",children:d("Get %symbol1% or %symbol2%",{symbol1:"BNB",symbol2:"WBNB"})})]})]})},pe=n(18017),he=n(95491),me=n(49903);function ve(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){ve(o,r,i,c,a,"next",e)}function a(e){ve(o,r,i,c,a,"throw",e)}c(void 0)}))}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){var t;return je(t={},i.REVIEW,e("Review")),je(t,i.APPROVE_AND_CONFIRM,e("Back")),je(t,i.CONFIRM,e("Back")),je(t,i.TX_CONFIRMED,e("Transaction Confirmed")),t},ge=function(e){var t,n,c=e.nftToBuy,a=e.onDismiss,l=(0,d.useState)(i.REVIEW),s=l[0],x=l[1],p=(0,d.useState)(""),h=p[0],m=p[1],v=(0,d.useState)(r.BNB),b=v[0],j=v[1],y=(0,d.useState)(!1),g=y[0],Z=y[1],w=(0,M.Z)().theme,S=(0,D.$G)().t,O=(0,G.d)().callWithGasPrice,P=(0,f.Ge)().account,k=(0,$.X_)(_.ZP.wbnb.address,!1),A=(0,$.X_)(_.ZP.wbnb.address),C=(0,$.DU)(),F=(0,J.Z)().toastSuccess,I=(0,U.vz)(null===c||void 0===c||null===(t=c.marketData)||void 0===t?void 0:t.currentAskPrice,"ether"),N=parseFloat(null===c||void 0===c||null===(n=c.marketData)||void 0===n?void 0:n.currentAskPrice),T=(0,z.nu)(),E=T.balance,L=T.fetchStatus,q=parseFloat((0,U.dF)(E)),X=(0,z.ZP)(_.ZP.wbnb.address),Q=X.balance,K=X.fetchStatus,ee=(0,B.mW)(Q),te=b===r.BNB?q:ee,re=b===r.BNB?L:K,ie=b===r.BNB?E.lt(I):Q.lt((0,W.i9)(I));(0,d.useEffect)((function(){E.lt(I)&&Q.gte((0,W.i9)(I))&&!g&&(j(r.WBNB),Z(!0))}),[E,Q,I,g]);var oe=(0,V.Z)({onRequiresApproval:be(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Y.S)(k,P,C.address));case 1:case"end":return e.stop()}}),e)}))),onApprove:function(){return O(A,"approve",[C.address,R.Bz])},onApproveSuccess:function(){var e=be(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,F(S("Contract approved - you can now buy NFT with WBNB!"),(0,o.jsx)(H.YO,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e,t=Number.isNaN(N)?R._Y:(0,U.vz)(null===c||void 0===c||null===(e=c.marketData)||void 0===e?void 0:e.currentAskPrice);return b===r.BNB?O(C,"buyTokenUsingBNB",[c.collectionAddress,c.tokenId],{value:t}):O(C,"buyTokenUsingWBNB",[c.collectionAddress,c.tokenId,t])},onSuccess:function(){var e=be(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,m(n.transactionHash),x(i.TX_CONFIRMED),F(S("Your NFT has been sent to your wallet"),(0,o.jsx)(H.YO,{txHash:n.transactionHash}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ce=oe.isApproving,ae=oe.isApproved,le=oe.isConfirming,se=oe.handleApprove,ue=oe.handleConfirm,de=s===i.CONFIRM||s===i.APPROVE_AND_CONFIRM;return(0,o.jsxs)(ne,{title:ye(S)[s],stage:s,onDismiss:a,onBack:de?function(){x(i.REVIEW)}:null,headerBackground:w.colors.gradients.cardHeader,children:[s===i.REVIEW&&(0,o.jsx)(xe,{nftToBuy:c,paymentCurrency:b,setPaymentCurrency:j,nftPrice:N,walletBalance:te,walletFetchStatus:re,notEnoughBnbForPurchase:ie,continueToNextStage:function(){b!==r.WBNB||ae?x(i.CONFIRM):x(i.APPROVE_AND_CONFIRM)}}),s===i.APPROVE_AND_CONFIRM&&(0,o.jsx)(he.Z,{variant:"buy",handleApprove:se,isApproved:ae,isApproving:ce,isConfirming:le,handleConfirm:ue}),s===i.CONFIRM&&(0,o.jsx)(pe.Z,{isConfirming:le,handleConfirm:ue}),s===i.TX_CONFIRMED&&(0,o.jsx)(me.Z,{txHash:h,onDismiss:a})]})},Ze=n(68461),we=n(14166);function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=function(e){var t,n,r=e.cheapestNft,i=e.cheapestNftFromOtherSellers,c=e.nothingForSaleBunny,a=e.onSuccessSale,s=(0,D.$G)().t,u=(0,L.Hf)(),d=i||r||c,f=!i,p=i||r,h=(0,T.as)(u,parseFloat(null===d||void 0===d||null===(t=d.marketData)||void 0===t?void 0:t.currentAskPrice)),m=Oe((0,O.Z)((0,o.jsx)(ge,{nftToBuy:d})),1)[0],v=Oe((0,O.Z)((0,o.jsx)(Ze.Z,{variant:"edit",nftToSell:r,onSuccessSale:a})),1)[0],b=f?(0,o.jsx)(P.Z,{variant:"danger",minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:v,children:s("Adjust Sale Price")}):(0,o.jsx)(P.Z,{disabled:f,minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:m,children:s("Buy")});return(0,o.jsx)(k.Z,{mb:"40px",children:(0,o.jsx)(A.Z,{children:(0,o.jsxs)(we.W2,{flexDirection:["column-reverse",null,"row"],children:[(0,o.jsx)(x.Z,{flex:"2",children:(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(we.Db,{to:"".concat(l.Vf,"/collections/").concat(d.collectionAddress),children:null===d||void 0===d?void 0:d.collectionName}),(0,o.jsx)(F.Z,{fontSize:"40px",bold:!0,mt:"12px",children:d.name}),(0,o.jsx)(F.Z,{mt:["16px","16px","48px"],children:s(d.description)}),(r||i)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{color:"textSubtle",mt:["16px","16px","48px"],children:s("Lowest price")}),(0,o.jsxs)(x.Z,{alignItems:"center",mt:"8px",children:[(0,o.jsx)(I.Z,{width:18,height:18,mr:"4px"}),(0,o.jsx)(F.Z,{fontSize:"24px",bold:!0,mr:"4px",children:(0,B.uf)(parseFloat(null===d||void 0===d||null===(n=d.marketData)||void 0===n?void 0:n.currentAskPrice),0,5)}),u?(0,o.jsx)(F.Z,{color:"textSubtle",children:"(~".concat(h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):(0,o.jsx)(N.Z,{width:"64px"})]})]}),p&&b]})}),(0,o.jsx)(x.Z,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",maxWidth:440,children:(0,o.jsx)(E.Z,{nft:d,width:440,height:440},d.name)})]})})})},ke=n(34103),Ae=n(90289),Ce=n(46392),Fe=n(86543),Ie=n(48650),Ne=n(75186),De=n(19782),Be=n(59667),Te=n(96913);function Ee(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Le(){var e=Ee(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 720px;\n  }\n"]);return Le=function(){return e},e}function Re(){var e=Ee(["\n  from {\n    max-height: 710px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]);return Re=function(){return e},e}function Me(){var e=Ee(["\n          "," 300ms linear forwards\n        "]);return Me=function(){return e},e}function ze(){var e=Ee(["\n          "," 300ms linear forwards\n        "]);return ze=function(){return e},e}function We(){var e=Ee(["\n  animation: ",";\n"]);return We=function(){return e},e}function _e(){var e=Ee(["\n  width: 100%;\n"]);return _e=function(){return e},e}var Ue=(0,q.F4)(Le()),$e=(0,q.F4)(Re()),Ge=(0,q.ZP)(C.Z)(We(),(function(e){return e.expanded?(0,q.iv)(Me(),Ue):(0,q.iv)(ze(),$e)})),Ve=(0,q.ZP)(k.Z)(_e()),Ye=function(e){var t=e.icon,n=e.title,r=e.content,i=(0,d.useState)(!0),c=i[0],a=i[1],l=(0,M.Z)().theme;return(0,o.jsxs)(Ve,{children:[(0,o.jsxs)(Q.Z,{gridTemplateColumns:"1fr 8fr 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(l.colors.cardBorder),children:[t,(0,o.jsx)(F.Z,{bold:!0,children:n}),(0,o.jsx)(De.Z,{onClick:function(){a((function(e){return!e}))},variant:"text",maxWidth:"32px",children:c?(0,o.jsx)(Be.Z,{width:"24px",height:"24px",color:"textSubtle"}):(0,o.jsx)(Te.Z,{width:"24px",height:"24px",color:"textSubtle"})})]}),(0,o.jsx)(Ge,{expanded:c,children:r})]})},Je=n(70739),He=n(10056);function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function et(){var e=Ke(["\n  overflow-y: auto;\n  max-height: 224px;\n"]);return et=function(){return e},e}function tt(){var e=Ke(["\n  margin: 16px 20px;\n  border-bottom: ",";\n"]);return tt=function(){return e},e}var nt,rt,it=(0,q.ZP)(C.Z)(et()),ot=q.ZP.div(tt(),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),ct=(Xe(nt={},Ne.Fb.FORSALE,"failure"),Xe(nt,Ne.Fb.WALLET,"secondary"),Xe(nt,Ne.Fb.PROFILE,"textSubtle"),nt),at=(Xe(rt={},Ne.Fb.FORSALE,ke.Z),Xe(rt,Ne.Fb.WALLET,Ae.Z),Xe(rt,Ne.Fb.PROFILE,Ce.Z),rt),lt=function(e){var t,n=e.nft,r=e.lowestPrice,i=e.onSuccessSale,c=(0,D.$G)().t,a=n.location===Ne.Fb.WALLET?"sell":"edit",l=Qe((0,O.Z)((0,o.jsx)(Je.Z,{nft:n})),1)[0],s=Qe((0,O.Z)((0,o.jsx)(Ze.Z,{variant:a,nftToSell:n,onSuccessSale:i})),1)[0];return(0,o.jsxs)(we.u$,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:n.location===Ne.Fb.PROFILE?l:s,children:[(0,o.jsx)(we.em,{src:n.image.thumbnail,width:64,height:64,mx:"16px"}),(0,o.jsxs)(Q.Z,{gridTemplateColumns:"1fr 1fr",children:[(0,o.jsx)(F.Z,{bold:!0,children:n.name}),(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:null===n||void 0===n?void 0:n.collectionName}),r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:c("Lowest price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(I.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(F.Z,{small:!0,children:(0,B.uf)(parseFloat(r),0,5)})]})]}),n.location===Ne.Fb.FORSALE?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:c("Your price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(I.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(F.Z,{small:!0,children:null===n||void 0===n||null===(t=n.marketData)||void 0===t?void 0:t.currentAskPrice})]})]}):(0,o.jsx)(F.Z,{small:!0,color:"textDisabled",children:c("Not on sale")})]})]})},st=function(e){var t=e.location,n=e.nfts,r=e.lowestPrice,i=e.onSuccessSale,c=(0,D.$G)().t,a=at[t];return(0,o.jsxs)(x.Z,{flexDirection:"column",children:[(0,o.jsxs)(Q.Z,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[(0,o.jsx)(a,{color:ct[t],width:"24px",height:"24px"}),(0,o.jsx)(F.Z,{display:"inline",bold:!0,color:ct[t],children:c(t)})]}),(0,o.jsx)(it,{children:n.map((function(e){return(0,o.jsx)(lt,{nft:e,lowestPrice:r,onSuccessSale:i},e.tokenId)}))})]})},ut=function(e){var t=e.bunnyId,n=e.lowestPrice,r=(0,D.$G)().t,i=(0,f.Ge)().account,c=(0,Ie.Un)(),a=c.isLoading,l=c.profile,s=(0,He.Z)(i,l,a),u=s.nfts,d=s.isLoading,p=s.refresh,h=u.filter((function(e){return e.attributes[0].value===t&&e.location===Ne.Fb.WALLET})),m=u.filter((function(e){return e.attributes[0].value===t&&e.location===Ne.Fb.FORSALE})),v=u.filter((function(e){return e.attributes[0].value===t&&e.location===Ne.Fb.PROFILE})),b=!d&&0===h.length&&0===m.length&&0===v.length,j=h.length+m.length+v.length,y=i&&!b?" (".concat(j,")"):"",g=(0,o.jsxs)(C.Z,{pt:"16px",children:[!i&&(0,o.jsx)(x.Z,{mb:"16px",justifyContent:"center",children:(0,o.jsx)(oe.Z,{})}),b&&(0,o.jsx)(F.Z,{px:"16px",pb:"16px",color:"textSubtle",children:r("You don\u2019t have any of this item.")}),i&&d&&(0,o.jsxs)(C.Z,{px:"16px",pb:"8px",children:[(0,o.jsx)(N.Z,{mb:"8px"}),(0,o.jsx)(N.Z,{mb:"8px"}),(0,o.jsx)(N.Z,{mb:"8px"})]}),m.length>0&&(0,o.jsx)(st,{location:Ne.Fb.FORSALE,nfts:m,lowestPrice:n,onSuccessSale:p}),h.length>0&&(0,o.jsxs)(o.Fragment,{children:[m.length>0&&(0,o.jsx)(ot,{}),(0,o.jsx)(st,{location:Ne.Fb.WALLET,nfts:h,lowestPrice:n,onSuccessSale:p})]}),v.length>0&&(0,o.jsxs)(o.Fragment,{children:[(m.length>0||h.length>0)&&(0,o.jsx)(ot,{}),(0,o.jsx)(st,{location:Ne.Fb.PROFILE,nfts:v,lowestPrice:n,onSuccessSale:p})]})]});return(0,o.jsx)(Ye,{title:"".concat(r("Manage Yours")).concat(y),icon:(0,o.jsx)(Fe.Z,{width:"24px",height:"24px"}),content:g})},dt=n(59742),ft={bunnyId:"Bunny ID"},xt=function(e){var t,n=e.title,r=e.value,i=e.rarity;return(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:null!==(t=ft[n])&&void 0!==t?t:n}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(F.Z,{bold:!0,textTransform:"uppercase",mr:"4px",children:r}),i&&(0,o.jsxs)(F.Z,{small:!0,color:"textSubtle",children:["(",i.toFixed(2),"%)"]})]})]})},pt=function(e){var t=e.properties,n=e.rarity,r=(0,D.$G)().t,i=(0,o.jsx)(C.Z,{p:"24px",children:t.map((function(e){return(0,o.jsx)(xt,{title:e.traitType,value:e.value,rarity:n[e.traitType]},e.traitType)}))});return(0,o.jsx)(Ye,{title:r("Properties"),icon:(0,o.jsx)(dt.Z,{width:"24px",height:"24px"}),content:i})},ht=n(91541),mt=n(90570),vt=n(64011);function bt(){var e,t,n=(e=["\n  max-width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return bt=function(){return n},n}var jt=(0,q.ZP)(F.Z)(bt()),yt=function(e){var t=e.contractAddress,n=e.ipfsJson,r=e.count,i=e.rarity,c=(0,D.$G)().t,a=(0,vt.Z)().chainId,l=n?(0,mt.Z)(n)[0]:null,s=(0,o.jsxs)(C.Z,{p:"24px",children:[(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Contract address")}),(0,o.jsx)(ce.Z,{external:!0,href:(0,ue.s6)(t,"address",a),children:(0,o.jsx)(jt,{bold:!0,children:t})})]}),l&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:"IPFS JSON"}),(0,o.jsx)(ce.Z,{external:!0,href:l,children:(0,o.jsx)(jt,{bold:!0,children:l})})]}),r&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",mr:"4px",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Supply Count")}),(0,o.jsx)(jt,{bold:!0,children:(0,B.uf)(r,0,0)})]}),i&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mr:"4px",children:[(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Rarity")}),(0,o.jsx)(jt,{bold:!0,children:"".concat((0,B.uf)(i,0,2),"%")})]})]});return(0,o.jsx)(Ye,{title:c("Details"),icon:(0,o.jsx)(ht.Z,{width:"24px",height:"24px"}),content:s})},gt=n(69983),Zt=n.n(gt),wt=n(98352),St=(n(72821),n(51888)),Ot=n(58018),Pt=n(7098),kt=n(38263),At=n(9640),Ct=n(96464),Ft=n(43591),It=n(98695);function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Bt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(){var e=Dt(["\n  background-color: ",";\n  width: 12px;\n  height: 12px;\n  margin-right: 8px;\n  border-radius: 50%;\n  cursor: pointer;\n"]);return Tt=function(){return e},e}function Et(){var e=Dt(["\n  "," {\n    .swiper-wrapper {\n      max-height: 390px;\n    }\n  }\n"]);return Et=function(){return e},e}var Lt=q.ZP.div(Tt(),(function(e){var t=e.theme;return e.isActive?t.colors.secondary:t.colors.textDisabled})),Rt=q.ZP.div(Et(),(function(e){return e.theme.mediaQueries.md})),Mt=function(e){var t=e.collectionAddress,n=e.currentTokenName,r=void 0===n?"":n,i=e.title,c=void 0===i?(0,o.jsx)(Ct.Z,{children:"More from this collection"}):i,a=(0,At.TL)(),s=(0,d.useState)(null),u=s[0],f=s[1],p=(0,d.useState)(1),h=p[0],m=p[1],b=(0,St.Z)(),j=b.isMobile,y=b.isMd,g=b.isLg,Z=(0,It.Z)(t),w=(0,v.aA)(t),S=(0,ue.UJ)(t)===l.Jr;(0,d.useEffect)((function(){S||w||a((0,kt.o)({collectionAddress:(0,ue.UJ)(t)||t,page:1,size:100}))}),[w,t,a,S]);var O=(0,d.useMemo)((function(){return Zt()(Z?Z.filter((function(e){return e.name!==r})):null===w||void 0===w?void 0:w.filter((function(e){var t;return e.name!==r&&(null===(t=e.marketData)||void 0===t?void 0:t.isTradable)})))}),[Z,w,r]);if(!O||0===O.length)return null;var P=4,k=3;y&&(P=2,k=6),g&&(P=3,k=4),S&&(O=O.reduce((function(e,t){var n=t.attributes[0].value;return e.find((function(e){return e.attributes[0].value===n}))||e.push(t),e}),[])),O=O.slice(0,12);return(0,o.jsxs)(C.Z,{pt:"56px",mb:"52px",children:[c&&(0,o.jsx)(F.Z,{bold:!0,mb:"24px",children:c}),j?(0,o.jsx)(Rt,{children:(0,o.jsx)(wt.tq,{spaceBetween:16,slidesPerView:1.5,children:O.map((function(e){return(0,o.jsx)(wt.o5,{children:(0,o.jsx)(Ft.ts,{nft:e})},e.tokenId)}))})}):(0,o.jsxs)(Rt,{children:[(0,o.jsx)(wt.tq,{onSwiper:f,onActiveIndexChange:function(e){var t=e.activeIndex;void 0!==t&&m(Math.ceil(t/P))},spaceBetween:16,slidesPerView:P,slidesPerGroup:P,initialSlide:4,children:O.map((function(e){var t;return(0,o.jsx)(wt.o5,{children:(0,o.jsx)(Ft.ts,{nft:e,currentAskPrice:S?null:parseFloat(null===e||void 0===e||null===(t=e.marketData)||void 0===t?void 0:t.currentAskPrice)})},e.tokenId)}))}),(0,o.jsxs)(x.Z,{mt:"16px",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(De.Z,{variant:"text",onClick:function(){h>0&&(m((function(e){return e-1})),u.slidePrev())},children:(0,o.jsx)(Ot.Z,{})}),Bt(Array(k).keys()).map((function(e){return(0,o.jsx)(Lt,{onClick:function(){return function(e){m(e/P),u.slideTo(e)}(e*P)},isActive:h===e},e)})),(0,o.jsx)(De.Z,{variant:"text",onClick:function(){h<k-1&&(m((function(e){return e+1})),u.slideNext())},children:(0,o.jsx)(Pt.Z,{})})]})]})]})},zt=n(68112),Wt=n(43810),_t=n(59946),Ut=n(80474);function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(){var e,t,n=(e=["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  & > div {\n    padding-bottom: 16px;\n    border-bottom: ",";\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Vt=function(){return n},n}var Yt=(0,q.ZP)(Q.Z)(Vt(),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),Jt=function(e){var t,n,r=e.t,i=e.nft,c=e.bnbBusdPrice,a=e.account,l=e.onSuccessSale,s=(0,T.as)(c,parseFloat(null===i||void 0===i||null===(t=i.marketData)||void 0===t?void 0:t.currentAskPrice)),u=!!a&&i.marketData.currentSeller===a.toLowerCase(),d=Gt((0,O.Z)((0,o.jsx)(ge,{nftToBuy:i})),1)[0],f=Gt((0,O.Z)((0,o.jsx)(Ze.Z,{variant:"edit",nftToSell:i,onSuccessSale:l})),1)[0];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.Z,{pl:"24px",children:[(0,o.jsxs)(x.Z,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[(0,o.jsx)(I.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsx)(F.Z,{bold:!0,children:(0,B.uf)(parseFloat(null===i||void 0===i||null===(n=i.marketData)||void 0===n?void 0:n.currentAskPrice),0,5)})]}),c?(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",children:"(~".concat((0,B.uf)(s,2,2)," USD)")}):(0,o.jsx)(N.Z,{width:"86px",height:"12px",mt:"4px"})]}),(0,o.jsx)(C.Z,{children:(0,o.jsx)(x.Z,{width:"max-content",alignItems:"center",children:(0,o.jsx)(Ut.Z,{accountAddress:i.marketData.currentSeller})})}),(0,o.jsx)(we.qO,{children:u?(0,o.jsx)(P.Z,{scale:"sm",variant:"danger",maxWidth:"128px",onClick:f,children:r("Edit")}):(0,o.jsx)(P.Z,{scale:"sm",variant:"secondary",maxWidth:"128px",onClick:d,children:r("Buy")})})]})},Ht=function(e){var t=e.nftsForSale,n=e.onSuccessSale,r=(0,f.Ge)().account,i=(0,D.$G)().t,c=(0,L.Hf)();return(0,o.jsx)(Yt,{children:t.map((function(e){return(0,o.jsx)(Jt,{t:i,nft:e,bnbBusdPrice:c,account:r,onSuccessSale:n},e.tokenId)}))})},qt=n(51166);function Xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qt(){var e=Xt(["\n  from {\n    stroke-dashoffset: 0px;\n  }\n  to {\n    stroke-dashoffset: 113px;\n  }\n"]);return Qt=function(){return e},e}function Kt(){var e=Xt(["\n  position: relative;\n  margin: auto;\n  height: 40px;\n  width: 40px;\n  text-align: center;\n\n  & svg {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 40px;\n    height: 40px;\n    transform: rotateY(-180deg) rotateZ(-90deg);\n\n    & circle {\n      stroke-dasharray: 113px;\n      stroke-dashoffset: 0px;\n      stroke-linecap: round;\n      stroke-width: 2px;\n      stroke: ",";\n      fill: none;\n      animation: "," 10s linear infinite forwards;\n    }\n  }\n"]);return Kt=function(){return e},e}var en=(0,q.F4)(Qt()),tn=q.ZP.div(Kt(),(function(e){return e.theme.colors.primaryBright}),en),nn=function(e){var t=e.secondsRemaining,n=e.isUpdating;return t<1||n?(0,o.jsx)(zt.Z,{size:42}):(0,o.jsxs)(tn,{children:[(0,o.jsx)(F.Z,{color:"textSubtle",lineHeight:"40px",display:"inline-block",children:t}),(0,o.jsx)("svg",{children:(0,o.jsx)("circle",{r:"18",cx:"20",cy:"20"})})]})},rn=function(){var e=(0,D.$G)().t,t=(0,d.useState)(10),n=t[0],r=t[1],i=(0,v.$C)().isUpdatingPancakeBunnies,c=(0,qt.Z)(e("Items in the table update every 10 seconds"),{placement:"auto"}),a=c.tooltip,l=c.tooltipVisible,s=c.targetRef;return(0,d.useEffect)((function(){var e=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[]),(0,d.useEffect)((function(){i||r(10)}),[i]),(0,o.jsxs)(x.Z,{justifyContent:"center",ref:s,children:[(0,o.jsx)(nn,{secondsRemaining:n,isUpdating:i}),l&&a]})},on=n(72818);function cn(){var e,t,n=(e=["\n  width: 100%;\n  & > div:first-child {\n    ","\n    display: flex;\n    flex-direction: column;\n    "," {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return cn=function(){return n},n}var an=(0,q.ZP)(k.Z)(cn(),(function(e){return e.hasManyPages?"min-height: 480px;":null}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.hasManyPages?"min-height: 850px;":null})),ln=function(e){var t=e.nftsForSale,n=e.bunnyId,r=e.totalForSale,i=e.loadMore,c=e.isFetchingMoreNfts,a=e.priceSort,l=e.togglePriceSort,s=e.onSuccessSale,u=(0,d.useState)(1),f=u[0],p=u[1],h=(0,St.Z)().isMobile?5:10,m=(0,D.$G)().t,v=(0,M.Z)().theme;(0,d.useEffect)((function(){p(1)}),[n,a]);var b=t.length%h!==0,j=Math.floor(t.length/h);b&&(j+=1);var y=t.slice((f-1)*h,f*h),g=function(e){p(e)},Z=c?(0,o.jsx)(x.Z,{width:"96px",justifyContent:"center",children:(0,o.jsx)(zt.Z,{size:32})}):(0,o.jsx)(P.Z,{variant:"primary",scale:"xs",ml:"12px",onClick:function(){i(a)},children:m("Load more")});return(0,o.jsxs)(an,{hasManyPages:j>1,children:[(0,o.jsxs)(Q.Z,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr 48px",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(v.colors.cardBorder),children:[(0,o.jsx)(ke.Z,{width:"24px",height:"24px"}),(0,o.jsx)(F.Z,{bold:!0,children:m("For Sale (%num%)",{num:r.toLocaleString()})}),(0,o.jsx)(rn,{})]}),y.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(we.cq,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[(0,o.jsx)(we.IB,{type:"button",onClick:l,children:(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(F.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:m("Price")}),"asc"===a?(0,o.jsx)(Wt.Z,{color:"textSubtle"}):(0,o.jsx)(_t.Z,{color:"textSubtle"})]})}),(0,o.jsx)(F.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:m("Owner")})]}),(0,o.jsxs)(x.Z,{flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",height:"100%",children:[(0,o.jsx)(Ht,{nftsForSale:y,onSuccessSale:s}),(0,o.jsxs)(on.O,{children:[(0,o.jsx)(on.E,{onClick:function(){g(1===f?f:f-1)},children:(0,o.jsx)(Ot.Z,{color:1===f?"textDisabled":"primary"})}),(0,o.jsx)(F.Z,{children:m("Page %page% of %maxPage%",{page:f,maxPage:j})}),f===j?Z:(0,o.jsx)(on.E,{onClick:function(){g(f===j?f:f+1)},children:(0,o.jsx)(Pt.Z,{color:f===j?"textDisabled":"primary"})})]})]})]}):(0,o.jsx)(x.Z,{justifyContent:"center",alignItems:"center",height:"200px",children:(0,o.jsx)(F.Z,{children:m("No items for sale")})})]})};function sn(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn=function(e){var t,n,r=e.bunnyId,i=(0,f.Ge)().account,c=(0,v.YD)(l.Jr),s=Number(null===c||void 0===c?void 0:c.totalSupply),p=(0,d.useState)(null),O=p[0],P=p[1],k=(0,j.Z)(),A=k.lastUpdated,C=k.previousLastUpdated,F=k.setLastUpdated,I=(0,v.Uc)(r),N=(0,d.useState)("asc"),D=N[0],B=N[1],T=(0,y.Z)(D),E=(0,v.Cp)(r),L=E.isUpdatingPancakeBunnies,R=E.latestPancakeBunniesUpdateAt,M=E.fetchMorePancakeBunnies,z=(0,Z.Z)(),W=h()(I,(function(e){var t;return parseFloat(null===e||void 0===e||null===(t=e.marketData)||void 0===t?void 0:t.currentAskPrice)})),_=i?W.filter((function(e){return e.marketData.currentSeller!==i.toLowerCase()})):W,U=W[0],$=_[0],G=(0,y.Z)(r),V=(0,S.q)(),Y=V.data,J=V.isFetching;(0,g.a)((function(){var e=Date.now()-R;(G!==r||A!==C||e>w.qK&&!L&&z)&&M(D)}),[r,G,D,M,L,R,z,A,C]),(0,d.useEffect)((function(){T&&T!==D&&M(D)}),[M,D,T]),(0,d.useEffect)((function(){var e=function(){var e,t=(e=u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Rq)(l.Jr);case 2:t=e.sent.data,P({tokenId:t[r].name,name:t[r].name,description:t[r].description,collectionName:t[r].collection.name,collectionAddress:l.Jr,image:t[r].image,attributes:[{traitType:"bunnyId",value:r,displayType:null}]});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){sn(o,r,i,c,a,"next",e)}function a(e){sn(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();U||e()}),[U,r]);var H=(0,d.useMemo)((function(){return h()(I,(function(e){var t;return Number(null===e||void 0===e||null===(t=e.marketData)||void 0===t?void 0:t.currentAskPrice)||0}),D)}),[I,D]);if(!U&&!O)return(0,o.jsx)(a.Z,{});var q=(null===U||void 0===U?void 0:U.attributes)||(null===O||void 0===O?void 0:O.attributes),X={bunnyId:Y&&!J?Y[r].tokenCount/s*100:null};return(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(Pe,{cheapestNft:U,cheapestNftFromOtherSellers:$,nothingForSaleBunny:O,onSuccessSale:F}),(0,o.jsxs)(we.Tk,{flexDirection:["column","column","row"],children:[(0,o.jsxs)(x.Z,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(ut,{bunnyId:r,lowestPrice:null===U||void 0===U||null===(t=U.marketData)||void 0===t?void 0:t.currentAskPrice}),(0,o.jsx)(pt,{properties:q,rarity:X}),(0,o.jsx)(yt,{contractAddress:l.Jr,ipfsJson:null===U||void 0===U||null===(n=U.marketData)||void 0===n?void 0:n.metadataUrl,rarity:null===X||void 0===X?void 0:X.bunnyId,count:Y&&!J?Y[r].tokenCount:null})]}),(0,o.jsx)(ln,{nftsForSale:H,bunnyId:r,totalForSale:I.length,loadMore:M,priceSort:D,togglePriceSort:function(){B((function(e){return"asc"===e?"desc":"asc"}))},isFetchingMoreNfts:L,onSuccessSale:F})]}),(0,o.jsx)(Mt,{collectionAddress:l.Jr,currentTokenName:(null===U||void 0===U?void 0:U.name)||(null===O||void 0===O?void 0:O.name)})]})},fn=function(e){return(0,v.YD)(l.Jr)?(0,o.jsx)(dn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){un(e,t,n[t])}))}return e}({},e)):(0,o.jsx)(a.Z,{})},xn=n(12297),pn=n.n(xn),hn=n(38689);function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bn,jn=function(e){var t,n,r,i,c,a,s=e.nft,u=e.isOwnNft,d=e.nftIsProfilePic,f=e.onSuccess,p=(0,D.$G)().t,h=(0,L.Hf)(),m=(null===s||void 0===s||null===(t=s.marketData)||void 0===t?void 0:t.currentAskPrice)?parseFloat(null===(n=s.marketData)||void 0===n?void 0:n.currentAskPrice):0,v=(0,T.as)(h,m),b=vn((0,O.Z)((0,o.jsx)(ge,{nftToBuy:s})),1)[0],j=vn((0,O.Z)((0,o.jsx)(Ze.Z,{variant:(null===(r=s.marketData)||void 0===r?void 0:r.isTradable)?"edit":"sell",nftToSell:s,onSuccessSale:f})),1)[0],y=vn((0,O.Z)((0,o.jsx)(hn.Z,{}),!1),1)[0],g=(0,o.jsxs)(x.Z,{flexDirection:["column","column","row"],children:[(0,o.jsx)(P.Z,{disabled:d,minWidth:"168px",mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:j,children:(null===(i=s.marketData)||void 0===i?void 0:i.isTradable)?p("Adjust price"):p("List for sale")}),!(null===(c=s.marketData)||void 0===c?void 0:c.isTradable)&&(0,o.jsx)(P.Z,{minWidth:"168px",variant:"secondary",width:["100%",null,"max-content"],mt:"24px",onClick:y,children:p(d?"Change Profile Pic":"Set as Profile Pic")})]});return(0,o.jsx)(k.Z,{mb:"40px",children:(0,o.jsx)(A.Z,{children:(0,o.jsxs)(we.W2,{flexDirection:["column-reverse",null,"row"],children:[(0,o.jsx)(x.Z,{flex:"2",children:(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(we.Db,{to:"".concat(l.Vf,"/collections/").concat(s.collectionAddress),children:null===s||void 0===s?void 0:s.collectionName}),(0,o.jsx)(F.Z,{fontSize:"40px",bold:!0,mt:"12px",children:s.name}),s.description&&(0,o.jsx)(F.Z,{mt:["16px","16px","48px"],children:p(s.description)}),(0,o.jsx)(F.Z,{color:"textSubtle",mt:["16px","16px","48px"],children:p("Price")}),m>0?(0,o.jsxs)(x.Z,{alignItems:"center",mt:"8px",children:[(0,o.jsx)(I.Z,{width:18,height:18,mr:"4px"}),(0,o.jsx)(F.Z,{fontSize:"24px",bold:!0,mr:"4px",children:(0,B.uf)(m,0,5)}),h?(0,o.jsx)(F.Z,{color:"textSubtle",children:"(~".concat(v.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):(0,o.jsx)(N.Z,{width:"64px"})]}):(0,o.jsx)(F.Z,{children:p("Not for sale")}),d&&(0,o.jsx)(F.Z,{color:"failure",children:p("This NFT is your profile picture, you must change it to some other NFT if you want to sell this one.")}),u&&g,!u&&(0,o.jsx)(P.Z,{minWidth:"168px",disabled:!(null===(a=s.marketData)||void 0===a?void 0:a.isTradable),mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:b,children:p("Buy")})]})}),(0,o.jsx)(x.Z,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",maxWidth:440,children:(0,o.jsx)(E.Z,{nft:s,width:440,height:440},s.tokenId)})]})})})};function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn,Sn=(gn(bn={},Ne.Fb.FORSALE,"failure"),gn(bn,Ne.Fb.WALLET,"secondary"),gn(bn,Ne.Fb.PROFILE,"textSubtle"),bn),On=(gn(wn={},Ne.Fb.FORSALE,ke.Z),gn(wn,Ne.Fb.WALLET,Ae.Z),gn(wn,Ne.Fb.PROFILE,Ce.Z),wn),Pn=function(e){var t,n=e.nft,r=e.onSuccess,i=(0,D.$G)().t,c=n.location===Ne.Fb.WALLET?"sell":"edit",a=Zn((0,O.Z)((0,o.jsx)(Je.Z,{nft:n})),1)[0],l=Zn((0,O.Z)((0,o.jsx)(Ze.Z,{variant:c,nftToSell:n,onSuccessSale:r})),1)[0];return(0,o.jsxs)(we.u$,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:n.location===Ne.Fb.PROFILE?a:l,children:[(0,o.jsx)(we.em,{src:n.image.thumbnail,width:64,height:64,mx:"16px"}),(0,o.jsxs)(Q.Z,{gridTemplateColumns:"1fr 1fr",children:[(0,o.jsx)(F.Z,{bold:!0,children:n.name}),(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:null===n||void 0===n?void 0:n.collectionName}),n.location===Ne.Fb.FORSALE?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{small:!0,color:"textSubtle",children:i("Your price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(I.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(F.Z,{small:!0,children:null===n||void 0===n||null===(t=n.marketData)||void 0===t?void 0:t.currentAskPrice})]})]}):(0,o.jsx)(F.Z,{small:!0,color:"textDisabled",children:i("Not on sale")})]})]})},kn=function(e){var t=e.nft,n=e.onSuccess,r=(0,D.$G)().t,i=On[t.location];return(0,o.jsxs)(x.Z,{flexDirection:"column",children:[(0,o.jsxs)(Q.Z,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[(0,o.jsx)(i,{color:Sn[t.location],width:"24px",height:"24px"}),(0,o.jsx)(F.Z,{display:"inline",bold:!0,color:Sn[t.location],children:r(t.location)})]}),(0,o.jsx)(Pn,{nft:t,onSuccess:n},t.tokenId)]})},An=function(e){var t=e.nft,n=e.isLoading,r=e.isOwnNft,i=e.onSuccess,c=(0,D.$G)().t,a=(0,f.Ge)().account,l=r&&t,s=(0,o.jsxs)(C.Z,{pt:"16px",children:[!a&&(0,o.jsx)(x.Z,{mb:"16px",justifyContent:"center",children:(0,o.jsx)(oe.Z,{})}),a&&n&&(0,o.jsxs)(C.Z,{px:"16px",pb:"8px",children:[(0,o.jsx)(N.Z,{mb:"8px"}),(0,o.jsx)(N.Z,{mb:"8px"}),(0,o.jsx)(N.Z,{mb:"8px"})]}),a&&!n&&!l&&(0,o.jsx)(F.Z,{px:"16px",pb:"16px",color:"textSubtle",children:c("You don\u2019t have this item.")}),!n&&l&&(0,o.jsx)(kn,{nft:t,onSuccess:i})]});return(0,o.jsx)(Ye,{title:c("Manage Yours"),icon:(0,o.jsx)(Fe.Z,{width:"24px",height:"24px"}),content:s})},Cn=n(55878);function Fn(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}function In(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){Fn(o,r,i,c,a,"next",e)}function a(e){Fn(o,r,i,c,a,"throw",e)}c(void 0)}))}}var Nn="0x0000000000000000000000000000000000000000",Dn=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,f.Ge)().account,i=(0,d.useState)(null),o=i[0],c=i[1],a=(0,d.useState)(!0),l=a[0],s=a[1],x=(0,$.HQ)(e.collectionAddress),p=x.reader,h=null===(t=e.marketData)||void 0===t?void 0:t.currentSeller,m=(0,Cn.Re)(),v=e.tokenId;return(0,d.useEffect)((function(){var e=function(){var e=In(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!r){e.next=5;break}c(r),e.next=9;break;case 5:return e.next=7,p.ownerOf(v);case 7:(t=e.sent).toLowerCase()!==m.toLowerCase()?c(t):c(null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(null);case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();h&&h!==Nn?(c(h),s(!1)):e()}),[r,n,h,p,v,m]),{owner:o,isLoadingOwner:l}};function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ln(){var e=En(["\n  width: 100%;\n  & > div:first-child {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return Ln=function(){return e},e}function Rn(){var e=En(["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n  align-items: center;\n"]);return Rn=function(){return e},e}var Mn=(0,q.ZP)(k.Z)(Ln()),zn=(0,q.ZP)(Q.Z)(Rn()),Wn=function(e){var t,n,r,i,c,a,l=e.nft,s=e.isOwnNft,u=e.nftIsProfilePic,d=e.onSuccess,f=(0,D.$G)().t,p=(0,M.Z)().theme,h=(0,L.Hf)(),m=Dn(l,s),v=m.owner,b=m.isLoadingOwner,j=(0,T.as)(h,parseFloat(null===l||void 0===l||null===(t=l.marketData)||void 0===t?void 0:t.currentAskPrice)),y=Tn((0,O.Z)((0,o.jsx)(ge,{nftToBuy:l})),1)[0],g=Tn((0,O.Z)((0,o.jsx)(Ze.Z,{variant:(null===(n=l.marketData)||void 0===n?void 0:n.isTradable)?"edit":"sell",nftToSell:l,onSuccessSale:d})),1)[0];return(0,o.jsxs)(Mn,{children:[(0,o.jsxs)(Q.Z,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(p.colors.cardBorder),children:[(0,o.jsx)(ke.Z,{width:"24px",height:"24px"}),(0,o.jsx)(F.Z,{bold:!0,children:f("Owner")})]}),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(we.cq,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[(0,o.jsx)(x.Z,{alignItems:"center",children:(0,o.jsx)(F.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:f("Price")})}),(0,o.jsx)(F.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:f("Owner")})]}),(0,o.jsxs)(zn,{children:[(0,o.jsx)(C.Z,{pl:"24px",children:(null===(r=l.marketData)||void 0===r?void 0:r.isTradable)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(x.Z,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[(0,o.jsx)(I.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsx)(F.Z,{bold:!0,children:(0,B.uf)(parseFloat(null===l||void 0===l||null===(i=l.marketData)||void 0===i?void 0:i.currentAskPrice),0,5)})]}),h?(0,o.jsx)(F.Z,{fontSize:"12px",color:"textSubtle",children:"(~".concat((0,B.uf)(j,2,2)," USD)")}):(0,o.jsx)(N.Z,{width:"86px",height:"12px",mt:"4px"})]}):(0,o.jsx)(x.Z,{alignItems:"center",height:"100%",children:(0,o.jsx)(F.Z,{children:f("Not for sale")})})}),(0,o.jsx)(C.Z,{children:(0,o.jsx)(x.Z,{width:"max-content",alignItems:"center",children:(0,o.jsx)(Ut.Z,{accountAddress:v.toLowerCase()})})}),(0,o.jsx)(we.qO,{children:s?(0,o.jsx)(P.Z,{disabled:u,scale:"sm",variant:"secondary",maxWidth:"128px",onClick:g,children:(null===(c=l.marketData)||void 0===c?void 0:c.isTradable)?f("Manage"):f("Sell")}):(0,o.jsx)(P.Z,{disabled:!(null===(a=l.marketData)||void 0===a?void 0:a.isTradable),scale:"sm",variant:"secondary",maxWidth:"128px",onClick:y,children:f("Buy")})})]})]}),b&&(0,o.jsx)(N.Z,{}),!b&&!v&&(0,o.jsx)(x.Z,{justifyContent:"center",alignItems:"center",padding:"24px",children:(0,o.jsx)(F.Z,{children:f("Owner information is not available for this item")})})]})},_n=n(54755),Un=n(89056),$n=n(7402),Gn=n(26710),Vn=n(11527),Yn=n(72855);function Jn(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}var Hn=function(e){var t=e.nft,n=(0,At.TL)(),r=(0,M.Z)().theme,i=(0,D.$G)().t,c=(0,d.useState)(1),a=c[0],l=c[1],s=(0,d.useState)(1),f=s[0],p=s[1],h=(0,d.useState)([]),m=h[0],v=h[1],j=(0,d.useState)([]),y=j[0],g=j[1],Z=(0,d.useState)(!0),w=Z[0],S=Z[1],O=(0,L.Hf)(),P=(0,St.Z)(),A=P.isXs,C=P.isSm;return(0,d.useEffect)((function(){var e=function(){var e,n=(e=u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.AC)(t.tokenId,t.collectionAddress.toLowerCase());case 3:n=e.sent,g((0,Vn.f)(n)),S(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch address activity",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){Jn(o,r,i,c,a,"next",e)}function a(e){Jn(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[t,n]),(0,d.useEffect)((function(){return y.length>0&&function(){var e=Math.ceil(y.length/5);p(e)}(),function(){v([]),p(1),l(1)}}),[y]),(0,d.useEffect)((function(){y.length>0&&function(){var e=y.slice(5*(a-1),5*a);v(e)}()}),[y,a]),(0,o.jsx)(k.Z,{children:0!==y.length||0!==m.length||w?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_n.Z,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsxs)(Un.Th,{textAlign:"center",children:[" ",i("Event")]}),A||C?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Un.Th,{textAlign:"right",children:[" ",i("Price")]}),(0,o.jsxs)(Un.Th,{textAlign:"center",children:[" ",i("From")]}),(0,o.jsxs)(Un.Th,{textAlign:"center",children:[" ",i("To")]})]}),(0,o.jsxs)(Un.Th,{textAlign:"center",children:[" ",i("Date")]}),A||C?null:(0,o.jsx)(Un.Th,{})]})}),(0,o.jsx)("tbody",{children:w?(0,o.jsx)(Gn.Z,{}):m.map((function(e){return(0,o.jsx)(Yn.Z,{activity:e,nft:t,bnbBusdPrice:O,isNftActivity:!0},"".concat(e.nft.tokenId).concat(e.timestamp))}))})]}),(0,o.jsx)(x.Z,{borderTop:"1px ".concat(r.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,o.jsxs)(on.O,{children:[(0,o.jsx)(on.E,{onClick:function(){l(1===a?a:a-1)},children:(0,o.jsx)(Ot.Z,{color:1===a?"textDisabled":"primary"})}),(0,o.jsx)(F.Z,{children:i("Page %page% of %maxPage%",{page:a,maxPage:f})}),(0,o.jsx)(on.E,{onClick:function(){l(a===f?a:a+1)},children:(0,o.jsx)(Pt.Z,{color:a===f?"textDisabled":"primary"})})]})})]}):(0,o.jsxs)(x.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,o.jsx)($n.Z,{}),(0,o.jsx)(F.Z,{pt:"8px",bold:!0,children:i("No NFT market history found")})]})})},qn=n(40821);function Xn(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}function Qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){Xn(o,r,i,c,a,"next",e)}function a(e){Xn(o,r,i,c,a,"throw",e)}c(void 0)}))}}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kn(e,t,n[t])}))}return e}var tr=function(e,t){var n,r=(0,qn.ZP)(e&&t?["nft",e,t]:null,Qn(u().mark((function n(){var r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,b.hb)(e,t);case 2:if(!(r=n.sent)){n.next=6;break}return i={tokenId:t,collectionAddress:e,collectionName:r.collection.name,name:r.name,description:r.description,image:r.image,attributes:r.attributes},n.abrupt("return",i);case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}}),n)})))),i=r.data,o=r.mutate,c=(0,qn.ZP)(e&&t?["nft","marketData",e,t]:null,Qn(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,b.T5)({collection:e.toLowerCase(),tokenId:t},1);case 2:return r=n.sent,n.abrupt("return",r[0]);case 4:case"end":return n.stop()}}),n)})))),a=c.data,l=c.mutate,s=function(e,t,n){var r=(0,f.Ge)().account,i=(0,$.HQ)(e).reader,o=(0,Ie.Un)(),c=o.isInitialized,a=o.profile;return(0,qn.ZP)(r&&c&&i?["nft","own",e,t,null===n||void 0===n?void 0:n.currentSeller]:null,Qn(u().mark((function o(){var c,l,s,d,f;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,i.ownerOf(t);case 3:return l=o.sent,s=!1,d=t===(null===a||void 0===a||null===(c=a.tokenId)||void 0===c?void 0:c.toString())&&e===(null===a||void 0===a?void 0:a.collectionAddress),n&&"0x0000000000000000000000000000000000000000"!==(null===n||void 0===n?void 0:n.currentSeller)?(s=(null===n||void 0===n?void 0:n.currentSeller.toLowerCase())===r.toLowerCase(),f=Ne.Fb.FORSALE):d?(s=!0,f=Ne.Fb.PROFILE):(s=l.toLowerCase()===r.toLowerCase(),f=Ne.Fb.WALLET),o.abrupt("return",{isOwn:s,nftIsProfilePic:d,location:f});case 11:case"end":return o.stop()}}),o)}))))}(e,t,a),x=s.data,p=s.mutate,h=s.status,m=(0,d.useCallback)(Qn(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.next=4,l();case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)}))),[o,l,p]);return{combinedNft:i?er({},i,{marketData:a,location:null!==(n=null===x||void 0===x?void 0:x.location)&&void 0!==n?n:Ne.Fb.WALLET}):void 0,isOwn:(null===x||void 0===x?void 0:x.isOwn)||!1,isProfilePic:(null===x||void 0===x?void 0:x.nftIsProfilePic)||!1,isLoading:h!==de.iF.Fetched,refetch:m}};function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(){var e,t,n=(e=["\n  gap: 22px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return rr=function(){return n},n}var ir=(0,q.ZP)(x.Z)(rr()),or=function(e){var t,n=e.collectionAddress,r=e.tokenId,i=(0,v.YD)(n),c=(0,S.Z)(n),l=c.data,s=c.isFetching,u=tr(n,r),d=u.combinedNft,f=u.isOwn,p=u.isProfilePic,h=u.isLoading,b=u.refetch;if(!d||!i)return(0,o.jsx)(a.Z,{});var j=d.attributes;return(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(jn,{nft:d,isOwnNft:f,nftIsProfilePic:p,onSuccess:b}),(0,o.jsxs)(we.Tk,{flexDirection:["column","column","row"],children:[(0,o.jsxs)(x.Z,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(An,{nft:d,isOwnNft:f,isLoading:h,onSuccess:b}),(0,o.jsx)(pt,{properties:j,rarity:l&&!s?Object.keys(l).reduce((function(e,t){var n,r=pn()(Object.values(l[t])),i=null===(n=d.attributes.find((function(e){return e.traitType===t})))||void 0===n?void 0:n.value,o=l[t][i];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nr(e,t,n[t])}))}return e}({},e,nr({},t,o/r*100))}),{}):{}}),(0,o.jsx)(yt,{contractAddress:n,ipfsJson:null===d||void 0===d||null===(t=d.marketData)||void 0===t?void 0:t.metadataUrl})]}),(0,o.jsxs)(ir,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(Wn,{nft:d,isOwnNft:f,nftIsProfilePic:p,onSuccess:b}),(0,o.jsx)(Hn,{nft:d})]})]}),(0,o.jsx)(Mt,{collectionAddress:n,currentTokenName:d.name})]})},cr=function(){var e=(0,c.useRouter)(),t=e.query,n=t.collectionAddress,r=t.tokenId;return e.isFallback?(0,o.jsx)(a.Z,{}):String(n).toLowerCase()===l.Jr.toLowerCase()?(0,o.jsx)(fn,{bunnyId:String(r)}):(0,o.jsx)(or,{collectionAddress:String(n),tokenId:String(r)})},ar=!0,lr=function(e){var t=e.fallback,n=void 0===t?{}:t;return(0,o.jsx)(qn.J$,{value:{fallback:n},children:(0,o.jsx)(cr,{})})}},90570:function(e,t,n){"use strict";function r(e){switch(e.split(":")[0].toLowerCase()){case"https":return[e];case"http":return["https".concat(e.substr(4)),e];case"ipfs":var t,n=null===(t=e.match(/^ipfs:(\/\/)?(.*)$/i))||void 0===t?void 0:t[2];return["https://cloudflare-ipfs.com/ipfs/".concat(n,"/"),"https://ipfs.io/ipfs/".concat(n,"/")];case"ipns":var r,i=null===(r=e.match(/^ipns:(\/\/)?(.*)$/i))||void 0===r?void 0:r[2];return["https://cloudflare-ipfs.com/ipns/".concat(i,"/"),"https://ipfs.io/ipns/".concat(i,"/")];default:return[]}}n.d(t,{Z:function(){return r}})},11527:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(2593),i=n(75186);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=function(e){var t,n=e.askOrders,o=void 0===n?[]:n,a=e.transactions,l=void 0===a?[]:a,s=c((t=o,t.map((function(e){return{marketEvent:function(e){switch(e){case i.cP.CANCEL:return i.YG.CANCEL;case i.cP.MODIFY:return i.YG.MODIFY;case i.cP.NEW:return i.YG.NEW;default:return i.YG.MODIFY}}(e.orderType),price:e.askPrice,timestamp:e.timestamp,nft:e.nft,tx:e.id,seller:null===e||void 0===e?void 0:e.seller.id}})))).concat(c(l.map((function(e){var t=i.YG.SELL,n=e.timestamp,r=e.nft;return{marketEvent:t,price:e.askPrice,timestamp:n,nft:r,tx:e.id,buyer:e.buyer.id,seller:e.seller.id}}))));return s.length>0?s.sort((function(e,t){var n=r.O$.from(e.timestamp);return r.O$.from(t.timestamp).sub(n).toNumber()})):[]}},98695:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),o=n(67294),c=n(86849),a=n(1940);function l(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}t.Z=function(e){var t=(0,o.useState)(null),n=t[0],r=t[1],s=e===a.Jr;return(0,o.useEffect)((function(){var e=function(){var e,t=(e=i().mark((function e(){var t,n,o,l,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Rq)(a.Jr);case 2:return t=e.sent.data,n=Object.keys(t),e.next=6,(0,c.LU)(n);case 6:return o=e.sent,e.next=9,(0,c.nP)(n);case 9:l=e.sent,s=n.map((function(e){return{tokenId:t[e].name,name:t[e].name,description:t[e].description,collectionAddress:a.Jr,collectionName:t[e].collection.name,image:t[e].image,attributes:[{traitType:"bunnyId",value:e,displayType:null}],meta:{currentAskPrice:o[e],updatedAt:l[e]}}})),r(s);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){l(o,r,i,c,a,"next",e)}function a(e){l(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();s&&!n&&e()}),[s,n]),n}},74437:function(e,t,n){"use strict";n.d(t,{q:function(){return j}});var r=n(34051),i=n.n(r),o=n(67294),c=n(86849),a=n(55878),l=n(41144),s=n(32538),u=n(80154),d=n(97971),f=n(1940);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){p(o,r,i,c,a,"next",e)}function a(e){p(o,r,i,c,a,"throw",e)}c(void 0)}))}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(l){a=!0,i=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(){var e=(0,o.useState)({isFetching:!1,data:null}),t=e[0],n=e[1];return(0,o.useEffect)((function(){var e=function(){var e=h(i().mark((function e(){var t,r,o,u,d,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((function(e){return v({},e,{isFetching:!0})})),e.prev=2,e.next=5,(0,c.Rq)(f.Jr);case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),n((function(e){return v({},e,{isFetching:!1})})),e.abrupt("return");case 12:return r=Object.keys(t.attributesDistribution),o=r.map((function(e){return{address:(0,a.Bs)(),name:"bunnyCount",params:[e]}})),e.prev=14,e.next=17,(0,l.v)(s,o);case 17:u=e.sent,d=u.reduce((function(e,n,i){return v({},e,m({},r[i],v({},t.data[i],{tokenCount:n[0].toNumber()})))}),{}),n({isFetching:!1,data:d}),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(14),x=Object.entries(t.data).reduce((function(e,n){var r=b(n,2),i=r[0];return v({},e,m({},i,v({},r[1],{tokenCount:t.attributesDistribution[i]})))}),{}),n({isFetching:!1,data:x});case 26:case"end":return e.stop()}}),e,null,[[2,8],[14,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),t};t.Z=function(e){var t=(0,u.Z)(e?["distribution",e]:null,h(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.iE)(e);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))));return{data:t.data,isFetching:t.status!==d.iF.Fetched}}}},function(e){e.O(0,[5675,2020,6862,9713,6699,3591,2319,7358,6165,9774,2888,179],(function(){return t=96182,e(e.s=t);var t}));var t=e.O();_N_E=t}]);